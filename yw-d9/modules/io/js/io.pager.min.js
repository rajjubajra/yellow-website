!function(g,m,p,f){"use strict";p.io=p.io||{};var u,n=f,o=i="io-pager",v="data-"+i,e=v+"-trigger",a="data-io-view",s=".pager--io--autoload",i=m.io.base||{};function d(e){if(200<=e.status&&e.status<300)return e;var i=new Error(e.statusText);throw i.response=e,i}function t(e){var i=m.io.pager,t=g.find(e,i.trigger);i.el=e,i.$trigger=t,i.$trigger.iohit=!1,i.mount(!0)}m.AjaxCommands.prototype.ioAppend=function(e,i){var t,r=m.io.pager,n=i.settings||{},o=n.contentSelector||("table"===n.style?".views-table tbody":"["+v+"]"),a=n.method||"append",s=n.pagerSelector||".pager--io",d=n.view_dom_id,c=m.views.instances["views_dom_id:"+d],l=e.settings||p,n=f.createElement("div"),e=".js-view-dom-id-"+d,d=!g.isUnd(c)&&c.$exposed_form.length?c.$exposed_form:null;n.innerHTML=i.data.trim(),u=void 0===c?g.find(f,e):c.$view[0],g.isElm(u)&&(m.detachBehaviors(u,l),t=g.find(u,s),s=g.find(n,s),g.isElm(t)&&(t.innerHTML=g.isElm(s)?s.innerHTML:""),s=g.find(u,o),o=g.find(n,o),g.isElm(s)&&g.isElm(o)&&g[a](s,o.innerHTML),g.once.removeSafely("ajax-pager",e,f),d&&g.once.removeSafely("exposed-form",d,f),m.attachBehaviors(u,l),setTimeout(function(){e=g.find(f,".ajaxin-wrapper--fs"),g.remove(e);var e=g.find(u,r.trigger);g.isElm(e)||g.addClass(t,"io-pager-done")},101))},m.io.pager=g.extend({},i,{el:null,$trigger:null,settings:p.io.pager||{},dataTrigger:e,trigger:"["+e+"]",globals:function(){var e=this,i={intersecting:e.intersecting.bind(e),success:e.success.bind(e),error:e.error.bind(e),visibleClass:"is-iop-visible"};return g.extend({},e.settings,i)},loadStatic:function(e,i){var t=g.closest(e,"["+a+"]"),r=/(js-view-dom-id-\w+)/.exec(g.attr(t,"class"))[1].replace("js-view-dom-id-",""),n=g.attr(t,a);fetch(i,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"text/html; charset=UTF-8"}}).then(d).then(function(e){return e.text()}).then(function(e){var i=f.createElement("div");i.innerHTML=e.trim();e=g.find(i,"["+a+"]:first-child"),i=g.attr(t,"class");e.length&&(g.attr(e,"class",i),e={command:"ioAppend",data:e.outerHTML,io:"pager",settings:{view_dom_id:r,style:n}},m.AjaxCommands.prototype.ioAppend({},e))})},loadOrClick:function(e){var i=e.href;i&&0<=i.indexOf("/page/")?this.loadStatic(e,i):e.click()},intersecting:function(e){!(e=e.target||e)||!this.isError(e)&&e.iohit||(this.loadOrClick(e),e.iohit=!1)}}),m.behaviors.ioPager={attach:function(e){n=g.context(e),g.once(t,o,s,n)},detach:function(e,i,t){var r=m.io.pager;"unload"===t&&(r.$trigger&&(r.$trigger.iohit=!1),g.once.removeSafely(o,s,n))}}}(dBlazy,Drupal,drupalSettings,this.document);
