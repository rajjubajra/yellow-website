!function(r,e,t,i){"use strict";var n,o="data-"+(s="io-block"),i=o+"-trigger",s=e.io.base||{};function a(t){var i=e.io.block;i.mount();r.on(t,"click",i.trigger,function(t){var e=r.hasClass(t.target,"io__text")?t.target.parentNode:t.target;t.preventDefault(),i.reIntersecting(e)},!1)}e.io.block=r.extend({},s,{settings:t.io.block||{},trigger:"["+i+"]",dataLoaded:o+"-loaded",dataTrigger:i,globals:function(){var t=this,e={intersecting:t.intersecting.bind(t),success:t.success.bind(t),error:t.error.bind(t),visibleClass:"is-iob-visible"};return r.extend({},t.settings,e)},ajaxSettings:function(t){return!!r.hasAttr(t,this.dataTrigger)&&{url:t.href,element:t,event:"click touchstart",io:"block"}},ajax:function(t,r,n){t=this.ajaxSettings(t);if(!t)return!1;var o=new e.Ajax(null,null,t),t=o.options,s=t.complete;return t.complete=function(t,e){var i=o.elementSettings;if(i&&"io"in i&&"block"===i.io){if("error"===e||"parsererror"===e)return n();r()}s.apply(this,arguments)},o},promise:function(i){var r=this;return new Promise(function(t,e){!r.isError(i)&&i.iohit||(e=r.ajax(i,t,e))&&(e.execute(),i.iohit=!0)})},intersecting:function(t){var e=this,i=t.parentNode;if(!t.iohit||e.isError(t))return e.promise(t).then(function(){e.success(t,1,i)}).catch(function(){e.error(t,-1,i)})}}),e.behaviors.ioBlock={attach:function(t){n=r.context(t),r.once(a,"io-block","html",n)}}}(dBlazy,Drupal,drupalSettings,this.document);
